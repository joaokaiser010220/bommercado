<!DOCTYPE html>
<html lang="pt-br">
>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contrato Digital de Venda</title>
  <style>
    body {
      font-family: 'Georgia', serif;
      background-color: #f0f0f0;
      padding: 20px;
    }
    .papel {
      background: white;
      color: black;
      width: 794px; /* A4 width */
      padding: 40px 60px;
      margin: auto;
      border: 1px solid #ccc;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      font-size: 16px;
      line-height: 1.8;
    }
    h1 {
      text-align: center;
      margin-bottom: 40px;
    }
    .assinaturas {
      margin-top: 50px;
    }
    .assinaturas div {
      margin-top: 30px;
    }
    .assinaturas canvas {
      width: 100%;
      height: 150px;
      border: 1px solid #000;
      margin-top: 5px;
    }
    [contenteditable] {
      background-color: #fdfdfd;
      border-bottom: 1px dotted #333;
      display: inline-block;
      min-width: 80px;
      padding: 2px;
    }
    .page-break {
      page-break-after: always;
    }
    button {
      display: block;
      margin: 30px auto;
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #preview img {
      max-width: 100%;
      border: 1px solid #000;
    }
  </style>
</head>
<body>
  <div id="contrato" class="papel">
    <h1>Contrato Particular de Compra e Venda</h1>
    <p>
      Pelo presente instrumento particular, de um lado <strong><span contenteditable="true">[Nome do Vendedor]</span></strong>, CPF nº <span contenteditable="true">[CPF do Vendedor]</span>, residente e domiciliado à <span contenteditable="true">[Endereço do Vendedor]</span>, doravante denominado VENDEDOR, e de outro lado <strong><span contenteditable="true">[Nome do Comprador]</span></strong>, CPF nº <span contenteditable="true">[CPF do Comprador]</span>, residente e domiciliado à <span contenteditable="true">[Endereço do Comprador]</span>, doravante denominado COMPRADOR, têm entre si, justas e contratadas, as seguintes cláusulas:
    </p>

    <p><strong>Cláusula 1ª – Do Objeto:</strong> O VENDEDOR vende ao COMPRADOR o seguinte bem: iPhone 13 Azul, 256GB, 4GB RAM, 85% de saúde da bateria, em excelente estado de conservação, sem riscos ou trincos, nunca submetido à assistência técnica ou com peças trocadas.</p>

    <p><strong>Cláusula 2ª – Do Preço:</strong> O preço ajustado para esta venda é de R$ 2.650,00 (dois mil seiscentos e cinquenta reais), a serem pagos pelo COMPRADOR ao VENDEDOR em 12 (doze) parcelas mensais e sucessivas de R$ 220,83 (duzentos e vinte reais e oitenta e três centavos), por meio de transferência via PIX ou outra forma acordada.</p>

    <p><strong>Cláusula 3ª – Do Vencimento:</strong> Cada parcela deverá ser quitada até o dia 10 (dez) de cada mês, a contar da assinatura deste contrato, com previsão de quitação final em <strong><span contenteditable="true">[Data de Quitação]</span></strong>.</p>

    <p><strong>Cláusula 4ª – Da Mora:</strong> O atraso no pagamento de qualquer parcela acarretará a incidência de multa diária no valor de R$ 5,00 (cinco reais), calculada por dia corrido de atraso.</p>

    <p><strong>Cláusula 5ª – Da Inadimplência:</strong> O não pagamento de quaisquer 2 (duas) parcelas consecutivas ou não, sem justificativa e sem acordo firmado entre as partes, autoriza o VENDEDOR a iniciar processo judicial para cobrança do valor restante, acrescido de multa, juros legais e custas processuais.</p>

    <p class="page-break"></p>

    <p><strong>Cláusula 6ª – Da Entrega:</strong> O VENDEDOR compromete-se a entregar o bem ao COMPRADOR em perfeitas condições de uso, formatado, desbloqueado e sem qualquer tipo de restrição de conta ou operadora.</p>

    <p><strong>Cláusula 7ª – Da Responsabilidade:</strong> Após a data de entrega, o COMPRADOR reconhece que assume total responsabilidade pelo uso e conservação do bem, não cabendo ao VENDEDOR qualquer ônus por mau uso, danos ou defeitos decorrentes de desgaste natural ou acidente posterior.</p>

    <p><strong>Cláusula 8ª – Da Rescisão:</strong> O presente contrato poderá ser rescindido de comum acordo entre as partes. Em caso de descumprimento por parte do COMPRADOR, aplica-se o previsto nas cláusulas 4ª e 5ª.</p>

    <p><strong>Cláusula 9ª – Do Foro:</strong> Para dirimir quaisquer dúvidas oriundas do presente contrato, as partes elegem o foro da comarca de <span contenteditable="true">[Cidade/UF]</span>, com renúncia expressa a qualquer outro, por mais privilegiado que seja.</p>

    <p>Assim, justos e contratados, firmam o presente instrumento em duas vias de igual teor e forma, na presença de testemunhas.</p>

    <p><strong>Data:</strong> <span contenteditable="true">[Data da Assinatura]</span></p>

    <div class="assinaturas">
      <div>
        <strong>Assinatura do Vendedor:</strong>
        <canvas id="canvasVendedor"></canvas>
      </div>
      <div>
        <strong>Assinatura do Comprador:</strong>
        <canvas id="canvasComprador"></canvas>
      </div>
    </div>
  </div>

  <button onclick="gerarImagemContrato()">Gerar Imagem do Contrato</button>
  <div id="preview"></div>

  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script>
    function setupCanvas(canvasId) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext("2d");
      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;
      let desenhando = false;

      canvas.addEventListener("mousedown", e => {
        desenhando = true;
        ctx.beginPath();
        ctx.moveTo(e.offsetX, e.offsetY);
      });
      canvas.addEventListener("mousemove", e => {
        if (desenhando) {
          ctx.lineTo(e.offsetX, e.offsetY);
          ctx.stroke();
        }
      });
      canvas.addEventListener("mouseup", () => desenhando = false);
      canvas.addEventListener("mouseleave", () => desenhando = false);
    }

    setupCanvas("canvasVendedor");
    setupCanvas("canvasComprador");

    function gerarImagemContrato() {
      html2canvas(document.getElementById("contrato")).then(canvas => {
        const imgURL = canvas.toDataURL("image/png");
        document.getElementById("preview").innerHTML = `<h2>Contrato Gerado:</h2><img src="${imgURL}" />`;
      });
    }
  </script>
</body>
</html>
