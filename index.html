<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pixelstry | Design Profissional</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/png" href="pixelI.png" />
  <style>
    :root {
      --verde-pixel: #2b9c70; /* verde claro, não neon */
      --verde-hover: #237a5a;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }
    body {
      background: #0a0a0a;
      color: #e0ffe6;
      overflow-x: hidden;
    }
    header {
      background-color: #111;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--verde-pixel);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .logo {
      font-size: 24px;
      font-weight: bold;
      color: var(--verde-pixel);
      text-shadow: 0 0 6px var(--verde-pixel);
      cursor: default;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
    }
    nav a {
      color: #e0ffe6;
      text-decoration: none;
      margin-left: 15px;
      transition: 0.3s;
      font-weight: 600;
    }
    nav a:hover {
      color: var(--verde-pixel);
    }
    nav .btn-briefing {
      background-color: var(--verde-pixel);
      color: #000;
      padding: 8px 15px;
      border-radius: 6px;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s;
      margin-left: 15px;
    }
    nav .btn-briefing:hover {
      background-color: var(--verde-hover);
    }
    .hero {
      height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 20px;
      position: relative;
      overflow: hidden;
    }
    .hero img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.2;
      z-index: 0;
    }
    .hero div {
      z-index: 1;
      max-width: 850px;
    }
    .hero h1 {
      font-size: 3em;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 0 10px var(--verde-pixel);
    }
    .hero p {
      font-size: 1.2em;
      color: #e0ffe6;
    }
    section {
      padding: 40px 20px;
      max-width: 1200px;
      margin: auto;
    }
    .section-title {
      font-size: 2.5em;
      color: var(--verde-pixel);
      margin-bottom: 30px;
      text-align: center;
    }
    .about, .briefing, .stats, .pagamentos, .reviews {
      background-color: #111;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 0 10px #34f8224d;
      margin-bottom: 50px;
    }
    .stats {
      display: flex;
      justify-content: space-around;
      text-align: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    .stat-item {
      color: var(--verde-pixel);
      flex: 1 1 150px;
    }
    .stat-item h3 {
      font-size: 3em;
      margin-bottom: 5px;
    }
    .carousel {
      overflow: hidden;
      position: relative;
      width: 100%;
    }
    .carousel-track {
      display: flex;
      width: max-content;
      animation: scroll 60s linear infinite;
    }
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .review-card {
      min-width: 300px;
      background-color: #1a1a1a;
      border-radius: 10px;
      padding: 20px;
      color: #e0ffe6;
      box-shadow: 0 0 5px rgba(56, 204, 140, 0.3);
      margin: 0 10px;
      flex-shrink: 0;
    }
    .stars {
      color: gold;
      margin-top: 10px;
      font-size: 1.1em;
    }
    .briefing form {
      display: flex;
      flex-direction: column;
      gap: 20px;
      max-width: 700px;
      margin: auto;
    }
    .briefing input, .briefing textarea, .briefing select {
      background-color: #0f0f0f;
      border: 1px solid var(--verde-pixel);
      padding: 15px;
      border-radius: 8px;
      color: #e0ffe6;
      font-size: 1em;
      resize: vertical;
    }
    .briefing button {
      background-color: var(--verde-pixel);
      color: #000;
      padding: 15px;
      border: none;
      border-radius: 8px;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      max-width: 200px;
      align-self: center;
      user-select: none;
    }
    .briefing button:hover:not(:disabled) {
      background-color: var(--verde-hover);
    }
    .briefing button:disabled {
      background-color: #555;
      cursor: not-allowed;
    }
    .pagamentos ul {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      list-style: none;
      gap: 20px;
      color: #e0ffe6;
      font-weight: 600;
      font-size: 1.1em;
    }
    footer {
      background-color: #111;
      text-align: center;
      padding: 40px 20px;
      color: #777;
      font-size: 0.9em;
    }
    footer p {
      margin: 8px 0;
    }

    /* ==== TELA DE CARREGAMENTO ==== */
    #loading-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.9);
      z-index: 9999;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 25px;
      color: var(--verde-pixel);
      font-weight: 700;
      text-shadow: 0 0 10px var(--verde-pixel);
      font-size: 1.3rem;
    }
    #loading-text {
      min-height: 30px;
    }
    .progress-bar {
      width: 350px;
      height: 12px;
      background: #222;
      border-radius: 6px;
      overflow: hidden;
      box-shadow: 0 0 6px var(--verde-pixel);
    }
    .progress {
      height: 100%;
      width: 0%;
      background: var(--verde-pixel);
      transition: width 0.2s ease;
    }

    /* ==== MENSAGEM FINAL + CONFETES ==== */
    #final-message {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.95);
      z-index: 10000;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: var(--verde-pixel);
      font-weight: 700;
      text-shadow: 0 0 10px var(--verde-pixel);
      padding: 30px;
      gap: 20px;
    }
    #final-message img {
      width: 90px;
      filter: drop-shadow(0 0 6px var(--verde-pixel));
    }
    #final-message h2 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    #final-message p {
      font-size: 1.3rem;
      max-width: 320px;
    }

    /* ==== Confetti canvas ==== */
    #confetti-canvas {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 11000;
    }

    /* ==== Responsividade ==== */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      nav {
        margin-top: 10px;
        flex-direction: column;
        align-items: flex-start;
      }
      nav a {
        margin-left: 0;
        margin-bottom: 10px;
      }
      .hero {
        height: auto;
        padding: 20px 0;
      }
      .hero h1 {
        font-size: 2.5em;
      }
      .hero p {
        font-size: 1em;
      }
      .section-title {
        font-size: 2em;
      }
      .briefing button {
        width: 100%;
      }
      .stats {
        flex-direction: column;
        align-items: center;
      }
      .stat-item {
        margin-bottom: 20px;
      }
      .review-card {
        min-width: 80%;
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>
<header>
    <div class="logo">Pixelstry</div>
    <nav>
      <a href="#sobre">Sobre</a>
      <a href="#avaliacoes">Avaliações</a>
      <a href="#briefing" class="btn-briefing">Preencher Briefing</a>
    </nav>
</header>

<div class="hero">
    <img src="pixelB.png" alt="Banner Pixelstry" />
    <div>
      <h1>Designs que impressionam de verdade</h1>
      <p>Transformamos ideias em arte profissional. Bem-vindo ao universo Pixelstry.</p>
    </div>
</div>

<section class="about" id="sobre">
    <h2 class="section-title">Quem somos</h2>
    <p>Somos a Pixelstry, um estúdio de design especializado em criar identidades visuais memoráveis e experiências estéticas que refletem a essência de cada marca. Atuamos com foco em qualidade, originalidade e propósito, desenvolvendo soluções visuais que fortalecem a presença e o valor de nossos clientes no mercado.

Nosso trabalho vai além da estética. Criamos logos, layouts, banners, artes para redes sociais e outros elementos gráficos com estratégia e sensibilidade, sempre buscando transmitir com clareza a mensagem que cada marca deseja comunicar.

Na Pixelstry, cada projeto é tratado com atenção aos detalhes, compromisso com a excelência e uma visão voltada para resultados reais. Acreditamos no poder do design como ferramenta de impacto, conexão e transformação.</p>
</section>

<section class="stats">
    <div class="stat-item">
      <h3 id="pedidos">0</h3>
      <p>Pedidos Entregues</p>
    </div>
    <div class="stat-item">
      <h3 id="clientes">0</h3>
      <p>Clientes Atendidos</p>
    </div>
    <div class="stat-item">
      <h3 id="avaliacoes">0</h3>
      <p>Avaliações Positivas</p>
    </div>
     <div class="stat-item">
      <h3 id="avaliacoes media">4.7</h3>
      <p>Avaliações media</p>
    </div>
</section>

<section class="reviews" id="avaliacoes">
    <h2 class="section-title">O que dizem nossos clientes</h2>
    <div class="carousel">
      <div class="carousel-track" aria-label="Avaliações de clientes">
        <div class="review-card"><strong>Camila S.</strong><br>"Simplesmente perfeito! O design ficou incrível."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <div class="review-card"><strong>Lucas M.</strong><br>"Atendimento excelente e resultado profissional."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <div class="review-card"><strong>Jéssica R.</strong><br>"Entregaram muito mais do que o esperado."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <div class="review-card"><strong>Thiago K.</strong><br>"Design diferenciado, de alto nível."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <div class="review-card"><strong>Natália P.</strong><br>"Rápido, criativo e super atencioso!"<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <div class="review-card"><strong>Diego L.</strong><br>"Tudo perfeito, trabalho impecável."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <!-- duplicação para loop infinito -->
        <div class="review-card"><strong>Camila S.</strong><br>"Simplesmente perfeito! O design ficou incrível."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <div class="review-card"><strong>Lucas M.</strong><br>"Atendimento excelente e resultado profissional."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
        <div class="review-card"><strong>Jéssica R.</strong><br>"Entregaram muito mais do que o esperado."<div class="stars" aria-label="5 estrelas">★★★★★</div></div>
      </div>
    </div>
</section>

<section class="briefing" id="briefing" tabindex="-1">
    <h2 class="section-title">Preencha o Briefing</h2>
    <form onsubmit="return enviarBriefing(event)">
      <input type="text" id="nome" placeholder="Seu nome completo" required />
      <input type="email" id="email" placeholder="Seu e-mail para contato" required />
      <input type="text" id="marca" placeholder="Nome do projeto ou marca" required />
      <textarea id="objetivo" rows="4" placeholder="O que deseja que seja criado? Ex: logo, identidade visual..." required></textarea>
      <textarea id="estilo" rows="3" placeholder="Qual o estilo desejado? Ex: moderno, elegante, divertido..."></textarea>
      <textarea id="referencia" rows="3" placeholder="Referências visuais? Cole links ou ideias"></textarea>
      <textarea id="publico" rows="3" placeholder="Quem é seu público-alvo?" required></textarea>
      <textarea id="meta" rows="3" placeholder="Qual o objetivo principal com esse projeto?" required></textarea>
      <select id="formatos" required>
        <option value="" disabled selected>Formatos de entrega</option>
        <option>PNG e PDF</option>
        <option>PNG, PDF e SVG</option>
        <option>Arquivos editáveis (PSD, AI)</option>
        <option>Outro (explicar no campo de observações)</option>
      </select>

      <input 
        type="text" 
        id="corPreferida" 
        name="corPreferida"
        placeholder="Digite sua cor preferida (ex: Verde, Azul, Vermelho, etc.)"
        required
      />

      <input 
        type="color" 
        id="corHex" 
        name="corHex"
        title="Escolha sua cor ideal (HEX)" 
        oninput="document.body.style.borderTop = '6px solid ' + this.value" 
      />

      <textarea id="descricaoExtra" rows="3" placeholder="Outras observações ou necessidades específicas"></textarea>
      <label>
        <input type="checkbox" required />
        Confirmo que revisei todas as informações antes de enviar
      </label>
      <button type="submit">Enviar Briefing</button>
    </form>
</section>

<section class="pagamentos">
    <h2 class="section-title">Aceitamos</h2>
    <ul>
      <li>PIX</li>
      <li>Cartão de Crédito</li>
      <li>Cartão de Débito</li>
      <li>Criptomoedas</li>
      <li>Transferência Bancária</li>
    </ul>
</section>

<footer>
    <p>© 2025 Pixelstry | Design Profissional.</p>
    <p>Desenvolvido com paixão por João Kaiser.</p>
    <p>Contato: pixelstry@design.com</p>
</footer>

<!-- === TELA DE CARREGAMENTO === -->
<div id="loading-overlay" aria-live="polite" role="alert" aria-busy="false">
    <div id="loading-text">Conectando com o servidor...</div>
    <div class="progress-bar" aria-hidden="true"><div class="progress"></div></div>
</div>

<!-- === MENSAGEM FINAL E CONFETES === -->
<canvas id="confetti-canvas"></canvas>
<div id="final-message" role="alert" aria-live="polite" aria-atomic="true" tabindex="0">
    <img src="pixelI.png" alt="Logo Pixelstry" />
    <h2>Obrigado por escolher a Pixelstry!</h2>
    <p>Seu briefing foi enviado com sucesso.</p>
</div>

<script>
  const frases = [
    "Conectando com o servidor...",
    "Verificando informações...",
    "Preparando envio do briefing...",
    "Enviando dados...",
    "Finalizando operação..."
  ];

  async function enviarBriefing(e) {
    e.preventDefault();
    const form = e.target;
    const button = form.querySelector('button[type="submit"]');
    button.disabled = true;
    button.textContent = "Enviando...";

    // Exibir overlay de carregamento
    const overlay = document.getElementById('loading-overlay');
    const loadingText = document.getElementById('loading-text');
    const progressBar = document.querySelector('.progress');
    overlay.style.display = 'flex';
    overlay.setAttribute('aria-busy', 'true');

    // Função para animar progress bar e textos
    async function animarBarra() {
      for(let i = 0; i <= 100; i++) {
        progressBar.style.width = i + '%';
        const index = Math.min(Math.floor(i / 20), frases.length - 1);
        loadingText.textContent = frases[index];
        await new Promise(r => setTimeout(r, 60));
      }
    }

    try {
      await animarBarra();

      const data = {
        nome: form.nome.value || form.querySelector('#nome').value,
        email: form.email.value || form.querySelector('#email').value,
        marca: form.marca.value || form.querySelector('#marca').value,
        objetivo: form.objetivo.value || form.querySelector('#objetivo').value,
        estilo: form.estilo.value || form.querySelector('#estilo').value,
        referencia: form.referencia.value || form.querySelector('#referencia').value,
        publico: form.publico.value || form.querySelector('#publico').value,
        meta: form.meta.value || form.querySelector('#meta').value,
        formatos: form.formatos.value || form.querySelector('#formatos').value,
        corPreferida: form.corPreferida.value || form.querySelector('#corPreferida').value,
        corHex: form.corHex.value || form.querySelector('#corHex').value,
        descricaoExtra: form.descricaoExtra.value || form.querySelector('#descricaoExtra').value,
        revisado: form.querySelector('input[type="checkbox"]').checked,
        timestamp: new Date().toISOString()
      };

      const firebaseURL = 'https://appcadastrokaiser-default-rtdb.firebaseio.com/briefings.json';
      const res = await fetch(firebaseURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      if (!res.ok) throw new Error('Erro ao enviar dados');

      // Oculta overlay carregamento
      overlay.style.display = 'none';
      overlay.setAttribute('aria-busy', 'false');

      // Exibe mensagem final + confetes
      mostrarMensagemFinal();

      form.reset();
      button.textContent = "Briefing enviado! Obrigado!";
      button.style.backgroundColor = '#237a5a';

    } catch (error) {
      overlay.style.display = 'none';
      overlay.setAttribute('aria-busy', 'false');
      button.textContent = "Falha ao enviar, tente novamente";
      button.style.backgroundColor = '#a02b2b';
      console.error(error);
    } finally {
      setTimeout(() => {
        button.disabled = false;
        button.textContent = "Enviar Briefing";
        button.style.backgroundColor = 'var(--verde-pixel)';
      }, 7000);
    }

    return false;
  }

  // ===== Função para mostrar a mensagem final + confetti só APÓS envio =====
  function mostrarMensagemFinal() {
    const finalMsg = document.getElementById('final-message');
    const confettiCanvas = document.getElementById('confetti-canvas');
    finalMsg.style.display = 'flex';
    finalMsg.focus(); // acessibilidade
    confettiCanvas.style.display = 'block';

    const ctx = confettiCanvas.getContext('2d');
    let W = confettiCanvas.width = window.innerWidth;
    let H = confettiCanvas.height = window.innerHeight;

    // Atualiza tamanho ao redimensionar
    window.addEventListener('resize', () => {
      W = confettiCanvas.width = window.innerWidth;
      H = confettiCanvas.height = window.innerHeight;
    });

    const confettiCount = 150;
    const confettis = [];

    class Confetti {
      constructor() {
        this.x = Math.random() * W;
        this.y = Math.random() * H - H;
        this.radius = (Math.random() * 6) + 4;
        this.color = `hsl(${Math.random() * 360}, 70%, 60%)`;
        this.speed = (Math.random() * 3) + 2;
        this.tilt = Math.random() * 10 - 10;
        this.tiltAngleIncrement = 0.05 + Math.random() / 10;
        this.tiltAngle = 0;
      }
      update() {
        this.y += this.speed;
        this.tiltAngle += this.tiltAngleIncrement;
        this.tilt = Math.sin(this.tiltAngle) * 15;

        if (this.y > H) {
          this.x = Math.random() * W;
          this.y = -10;
          this.tilt = Math.random() * 10 - 10;
        }
      }
      draw(ctx) {
        ctx.beginPath();
        ctx.lineWidth = this.radius / 2;
        ctx.strokeStyle = this.color;
        ctx.moveTo(this.x + this.tilt + this.radius / 4, this.y);
        ctx.lineTo(this.x + this.tilt, this.y + this.tilt + this.radius / 4);
        ctx.stroke();
      }
    }

    for (let i = 0; i < confettiCount; i++) {
      confettis.push(new Confetti());
    }

    function render() {
      ctx.clearRect(0, 0, W, H);
      confettis.forEach(c => {
        c.update();
        c.draw(ctx);
      });
      requestAnimationFrame(render);
    }
    render();

    // Oculta mensagem final e confetti após 5 segundos
    setTimeout(() => {
      finalMsg.style.display = 'none';
      confettiCanvas.style.display = 'none';
    }, 5000);
  }

  // ==== Animação dos contadores da seção stats ====
  function animateCounter(id, target) {
    let count = 0;
    const el = document.getElementById(id);
    const interval = setInterval(() => {
      count++;
      el.textContent = count;
      if (count >= target) clearInterval(interval);
    }, 20);
  }
  window.addEventListener('scroll', () => {
    const stats = document.querySelector('.stats');
    const rect = stats.getBoundingClientRect();
    if (rect.top < window.innerHeight && !stats.classList.contains('done')) {
      animateCounter('pedidos', 193);
      animateCounter('clientes', 102);
      animateCounter('avaliacoes', 151);
      stats.classList.add('done');
    }
  });
</script>
</body>
</html>
